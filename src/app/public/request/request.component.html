<div class="h-screen w-full bg-white relative flex overflow-hidden">

  <div class="w-full h-full flex flex-col justify-between">
    <!-- Header -->
    <header class="h-16 w-full flex items-center relative px-5 space-x-10 bg-gray-800">
      <!-- Informação -->
      <div class="flex flex-shrink-0 items-center space-x-4 text-white pl-16 lg:pl-24 cursor-pointer" routerLink="/">

        <div>
          <svg class="w-10 text-white" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 225 225" style="enable-background:new 0 0 225 225;" xml:space="preserve">
              <style type="text/css">
                  .st0{fill:none;stroke:currentColor;stroke-width:20;stroke-linecap:round;stroke-miterlimit:3;}
              </style>
              <g transform="matrix( 1, 0, 0, 1, 0,0) ">
              <g>
              <path id="Layer0_0_1_STROKES" class="st0" d="M173.8,151.5l13.6-13.6 M35.4,89.9l29.1-29 M89.4,34.9v1 M137.4,187.9l-0.6-0.4     M36.6,138.7l0.2-0.2 M56.1,169.1l27.7-27.6 M63.8,111.5l74.3-74.4 M87.1,188.1L187.6,87.6 M110.8,114.5l57.8-57.8"/>
              </g>
              </g>
          </svg>
      </div>
      <div class="text-2xl text-white tracking-wide ml-2 font-semibold">Coopac Cuajone</div>

      </div>
    </header>

    <!-- Main -->
    <main class="max-w-full h-full flex relative overflow-y-hidden">
      <!-- Container -->
      <div class="h-full w-full p-4 items-start justify-start rounded-tl grid-flow-col auto-cols-max gap-4 overflow-y-auto bg-gray-100/50 overflow-x-hidden">
        <!-- Container -->
        <div class="w-full h-full flex items-center animate__animated animate__fadeIn animate__faster" *ngIf="loadingPage else page">
          <div class="loader ease-linear rounded-full border-8 border-t-8 border-gray-200 h-28 w-28 m-auto"></div>
        </div>

        <ng-template #page>

          <div class="animate__animated animate__fadeIn animate__faster">

            <div class="w-5/6 md:w-4/5 xl:w-4/6 mx-auto">

              <div class="animate__animated animate__fadeIn animate__faster ">

                <div class="flex justify-between mb-2 items-center">
                  <span class="text-2xl">Solicitud para Actualización de Usuario y Acceso a Internet</span>
                  <div class="flex gap-2 items-center">
                    <span>Fecha:</span>
                    <input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-40 py-2 px-4 text-gray-700 leading-tight" type="text" value="{{dateNow}}" disabled>

                  </div>
                </div>
                <hr>
                <mat-stepper orientation="vertical" [linear]="false" #stepper class="mt-2">
                  <mat-step [stepControl]="profileForm" >
                    <form [formGroup]="profileForm">
                      <ng-template matStepLabel>Datos Personales</ng-template>

                      <p class="md:w-1/2">
                        <mat-form-field appearance="fill" class="w-full mt-2">
                          <mat-label>Nombre Completo</mat-label>
                          <input matInput placeholder="Nombres y Apellidos" formControlName="name" required>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>DNI</mat-label>
                          <input matInput placeholder="N° de Documento" formControlName="document" required>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>Tipo de Contrato</mat-label>
                          <mat-select formControlName="typeContract" required>
                            <mat-option *ngFor="let typeContract of typeContracts" [value]="typeContract.value">
                              {{typeContract.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>Cargo</mat-label>
                          <input matInput placeholder="Cargo" formControlName="job" required>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>Celular</mat-label>
                          <input matInput placeholder="Número de Celular" formControlName="cellphone" required type="number">
                        </mat-form-field>

                        <mat-form-field appearance="fill"class="w-full">
                          <mat-label>Email</mat-label>
                          <input matInput placeholder="Correo Electronico Personal" formControlName="email" required type="email">
                        </mat-form-field>
                      </p>

                      <div>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>
                  <mat-step [stepControl]="officeInfoForm">
                    <form [formGroup]="officeInfoForm">
                      <ng-template matStepLabel>Información de Oficina</ng-template>

                      <p class="md:w-1/2">
                        <mat-form-field appearance="fill" class="w-full mt-2">
                          <mat-label>Ubicación</mat-label>
                          <mat-select formControlName="location" required>
                            <mat-option *ngFor="let location of locations" [value]="location.value">
                              {{location.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>


                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>Unidad/Oficina/Área</mat-label>
                          <mat-select formControlName="office" required>
                            <mat-option *ngFor="let office of offices" [value]="office.value">
                              {{office.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>


                      </p>

                      <div>
                        <button mat-button matStepperPrevious>Atras</button>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>

                  <mat-step [stepControl]="observationForm">
                    <form [formGroup]="observationForm">
                      <ng-template matStepLabel>Observaciones</ng-template>

                      <p class="md:w-1/2">
                        <mat-form-field class="w-full mt-2">
                          <mat-label>Observaciones del Solicitante</mat-label>
                          <textarea matInput maxlength="256" #messageObservation formControlName="applicantObservation"></textarea>
                          <mat-hint align="end">{{messageObservation.value.length}} / 256</mat-hint>
                        </mat-form-field>

                      </p>

                      <div>
                        <button mat-button matStepperPrevious>Atras</button>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>

                  <mat-step [stepControl]="computerInfoForm" >
                    <form [formGroup]="computerInfoForm">
                      <ng-template matStepLabel>Datos de Equipo</ng-template>

                      <p class="md:w-1/2">
                        <mat-form-field appearance="fill" class="w-full mt-2">
                          <mat-label>Nombre de Equipo</mat-label>
                          <input matInput placeholder="Nombre de la Computadora" formControlName="computerName" required>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>IP</mat-label>
                          <input matInput placeholder="Dirección IP" formControlName="ip" required>
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="w-full">
                          <mat-label>Tipo de Equipo</mat-label>
                          <mat-select formControlName="typeComputer" required>
                            <mat-option *ngFor="let typeComputer of typesComputer" [value]="typeComputer.value">
                              {{typeComputer.viewValue}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </p>

                      <div>
                        <button mat-button matStepperPrevious>Atras</button>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>

                  <mat-step [stepControl]="AccessSystemForm" >
                    <form [formGroup]="AccessSystemForm">
                      <ng-template matStepLabel>Acceso a Sistemas</ng-template>

                      <div class="md:w-1/2">

                          <mat-radio-group aria-label="Selecciona una opción" class="w-full mt-2" formControlName="accessSystem">
                            <mat-radio-button value="false" color="primary">No requiero acceso a ningun sistema</mat-radio-button>
                            <br>
                            <mat-radio-button value="true" color="primary" >Si requiero acceso a los siguientes sistemas: </mat-radio-button>
                          </mat-radio-group>


                        <section class="ml-2" formGroupName="systems">
                          <mat-checkbox color="primary" formControlName="besterp">Besterp</mat-checkbox><br>
                          <mat-checkbox color="primary" formControlName="radar">Radar</mat-checkbox>
                        </section>

                        <mat-form-field class="w-full mt-2">
                          <mat-label>Justiticación de acceso a sistemas</mat-label>
                          <textarea matInput maxlength="256" #messageSystem placeholder="Ingrese su justificación de acceso para los sistemas solicitados" formControlName="accessSystemJustification"></textarea>
                          <mat-hint align="end">{{messageSystem.value.length}} / 256</mat-hint>
                        </mat-form-field>
                      </div>

                      <div>
                        <button mat-button matStepperPrevious>Atras</button>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>

                  <mat-step [stepControl]="InternetForm" >
                    <form [formGroup]="InternetForm">
                      <ng-template matStepLabel>Acceso a Internet</ng-template>

                      <p class="md:w-1/2">
                        <mat-radio-group aria-label="Selecciona una opción" class="w-full mt-2" formControlName="accessInternet">
                          <mat-radio-button value="0" color="primary">
                            <div class="flex items-center">
                              <span>Sin Accesso</span>
                              <div class="group flex relative items-center ml-2">
                                <i class="fa-solid fa-circle-question text-blue-900 text-md"></i>
                                <span class="group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute opacity-0 mx-auto translate-x-8">Tooltip</span>
                            </div>
                            </div>
                          </mat-radio-button>

                          <br>
                          <mat-radio-button value="1" color="primary">
                            <div class="flex items-center">
                              <span>Básico</span>
                              <div class="group flex relative items-center ml-2">
                                <i class="fa-solid fa-circle-question text-blue-900 text-md"></i>
                                <span class="group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute opacity-0 mx-auto translate-x-8">Tooltip</span>
                            </div>
                            </div>
                          </mat-radio-button>
                          <br>
                          <mat-radio-button value="2" color="primary">
                            <div class="flex items-center">
                              <span>Intermedio</span>
                              <div class="group flex relative items-center ml-2">
                                <i class="fa-solid fa-circle-question text-blue-900 text-md"></i>
                                <span class="group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute opacity-0 mx-auto translate-x-8">Tooltip</span>
                            </div>
                            </div>
                          </mat-radio-button>
                          <br>
                          <mat-radio-button value="3" color="primary">
                            <div class="flex items-center">
                              <span>Total</span>
                              <div class="group flex relative items-center ml-2">
                                <i class="fa-solid fa-circle-question text-blue-900 text-md"></i>
                                <span class="group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute opacity-0 mx-auto translate-x-8">Tooltip</span>
                            </div>
                            </div>
                          </mat-radio-button>
                          <br>
                          <mat-radio-button value="4" color="primary">
                            <div class="flex items-center">
                              <span>Libre</span>
                              <div class="group flex relative items-center ml-2">
                                <i class="fa-solid fa-circle-question text-blue-900 text-md"></i>
                                <span class="group-hover:opacity-100 transition-opacity bg-gray-800 px-1 text-sm text-gray-100 rounded-md absolute opacity-0 mx-auto translate-x-8">Tooltip</span>
                            </div>
                            </div>
                          </mat-radio-button>
                        </mat-radio-group>

                        <mat-form-field class="w-full mt-2">
                          <mat-label>Justiticación de acceso a internet</mat-label>
                          <textarea matInput maxlength="256" #messageInternet placeholder="Ingrese su justificación de acceso a internet" formControlName="internetJustification"></textarea>
                          <mat-hint align="end">{{messageInternet.value.length}} / 256</mat-hint>
                        </mat-form-field>
                      </p>

                      <div>
                        <button mat-button matStepperPrevious>Atras</button>
                        <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                      </div>
                    </form>
                  </mat-step>

                  <mat-step>
                    <ng-template matStepLabel>Hecho</ng-template>
                    <p>¡Bien hecho! Ya termino todos los pasos.</p>
                    <div>
                      <button mat-button matStepperPrevious>Atras</button>
                      <button mat-raised-button color="primary" (click)="sendInfo()" class="w-12" [disabled]="loadingButton">
                        <div
                        *ngIf="loadingButton else page"
                        class="inline-block h-4 w-4 animate-spin rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] text-gray-500 motion-reduce:animate-[spin_1.5s_linear_infinite]"
                        role="status">
                        <span
                          class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]"
                          >Cargando...</span
                        >
                      </div>
                      <ng-template #page>
                        Enviar
                      </ng-template>
                      </button>
                    </div>
                  </mat-step>


                </mat-stepper>
              </div>
            </div>
          </div>

        </ng-template>
      </div>
    </main>
  </div>

</div>















